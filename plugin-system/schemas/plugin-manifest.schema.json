{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://anthropic.com/schemas/plugin-manifest.json",
  "title": "Claude Skills Plugin Manifest",
  "description": "Schema for Claude Skills plugin manifest files",
  "type": "object",
  "required": ["name", "version", "description", "skills"],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "minLength": 1,
      "maxLength": 100,
      "description": "Unique plugin identifier (lowercase, hyphens only)"
    },
    "version": {
      "type": "string",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "description": "Semantic version (e.g., 1.0.0, 2.1.3-beta.1)"
    },
    "description": {
      "type": "string",
      "minLength": 10,
      "maxLength": 500,
      "description": "Clear description of what the plugin provides"
    },
    "author": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Author's name"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Author's email address"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Author's website"
        }
      }
    },
    "license": {
      "type": "string",
      "description": "SPDX license identifier or path to LICENSE file"
    },
    "repository": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["git", "svn", "mercurial"],
          "description": "Repository type"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Repository URL"
        }
      }
    },
    "keywords": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "maxItems": 20,
      "description": "Keywords for plugin discovery"
    },
    "category": {
      "type": "string",
      "enum": [
        "productivity",
        "creative",
        "technical",
        "communication",
        "development",
        "data-analysis",
        "design",
        "documentation",
        "enterprise",
        "education",
        "other"
      ],
      "description": "Primary plugin category"
    },
    "skills": {
      "type": "array",
      "minItems": 1,
      "items": {
        "oneOf": [
          {
            "type": "string",
            "description": "Path to skill directory"
          },
          {
            "type": "object",
            "required": ["path"],
            "properties": {
              "path": {
                "type": "string",
                "description": "Path to skill directory"
              },
              "required": {
                "type": "boolean",
                "default": true,
                "description": "Whether this skill is required for plugin functionality"
              },
              "enabled": {
                "type": "boolean",
                "default": true,
                "description": "Whether this skill is enabled by default"
              }
            }
          }
        ]
      },
      "description": "List of skills included in this plugin"
    },
    "dependencies": {
      "type": "object",
      "patternProperties": {
        "^[a-z0-9-]+$": {
          "type": "string",
          "description": "Semver version range (e.g., ^1.0.0, >=2.1.0 <3.0.0)"
        }
      },
      "description": "Dependencies on other plugins"
    },
    "peerDependencies": {
      "type": "object",
      "patternProperties": {
        "^[a-z0-9-]+$": {
          "type": "string"
        }
      },
      "description": "Peer dependencies (must be installed but not automatically installed)"
    },
    "systemRequirements": {
      "type": "object",
      "properties": {
        "minVersion": {
          "type": "string",
          "description": "Minimum Claude Code version required"
        },
        "maxVersion": {
          "type": "string",
          "description": "Maximum Claude Code version supported"
        },
        "platforms": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["linux", "darwin", "win32", "android", "ios"]
          },
          "description": "Supported platforms"
        },
        "node": {
          "type": "string",
          "description": "Required Node.js version range"
        },
        "python": {
          "type": "string",
          "description": "Required Python version range"
        }
      }
    },
    "permissions": {
      "type": "object",
      "properties": {
        "filesystem": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["read", "write", "delete"]
          },
          "description": "Filesystem access permissions"
        },
        "network": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["http", "https", "websocket"]
          },
          "description": "Network access permissions"
        },
        "tools": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required tools (bash, python, node, etc.)"
        },
        "environment": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required environment variables"
        }
      }
    },
    "hooks": {
      "type": "object",
      "properties": {
        "onInstall": {
          "type": "string",
          "description": "Script to run after installation"
        },
        "onActivate": {
          "type": "string",
          "description": "Script to run when plugin is activated"
        },
        "onDeactivate": {
          "type": "string",
          "description": "Script to run when plugin is deactivated"
        },
        "onUninstall": {
          "type": "string",
          "description": "Script to run before uninstallation"
        },
        "onUpdate": {
          "type": "string",
          "description": "Script to run after update"
        },
        "preInstall": {
          "type": "string",
          "description": "Script to run before installation"
        },
        "postActivate": {
          "type": "string",
          "description": "Script to run after activation"
        }
      }
    },
    "config": {
      "type": "object",
      "description": "Plugin-specific configuration",
      "additionalProperties": true
    },
    "metadata": {
      "type": "object",
      "properties": {
        "homepage": {
          "type": "string",
          "format": "uri",
          "description": "Plugin homepage URL"
        },
        "documentation": {
          "type": "string",
          "format": "uri",
          "description": "Documentation URL"
        },
        "issues": {
          "type": "string",
          "format": "uri",
          "description": "Issue tracker URL"
        },
        "changelog": {
          "type": "string",
          "format": "uri",
          "description": "Changelog URL"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Additional tags for categorization"
        },
        "screenshots": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Screenshot URLs"
        },
        "icon": {
          "type": "string",
          "description": "Path to plugin icon"
        }
      },
      "additionalProperties": true
    }
  }
}
